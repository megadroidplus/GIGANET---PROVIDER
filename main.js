function setCookie(cname,cvalue){var d=new Date();d.setTime(d.getTime()+(10*60*1000));var expires="expires="+d.toUTCString();document.cookie=cname+"="+cvalue+";"+expires+";path=/";}
function getCookie(cname){var name=cname+"=";var decodedCookie=decodeURIComponent(document.cookie);var ca=decodedCookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' '){c=c.substring(1);}
if(c.indexOf(name)==0){return c.substring(name.length,c.length);}}
return"";}
$(document).ready(function(){if($("#cidadetopo").length>0){new dgCidadesEstados({cidade:document.getElementById('cidadetopo'),estado:document.getElementById('estadotopo')})}
if($("#cidadeplano").length>0){new dgCidadesEstados({cidade:document.getElementById('cidadeplano'),estado:document.getElementById('estadoplano')})}
$(".formestado").submit(function(e){e.preventDefault();if($(this).find(".estadoselect").val()!=""&&$(this).find(".cidadeselect").val()!=""){setCookie("estadoselecionado",$(this).find(".estadoselect").val())
setCookie("cidadeselecionada",$(this).find(".cidadeselect option:selected").text())
setCookie("ibgeselecionado",$(this).find(".cidadeselect").val())
$("#modalestado").modal("hide");showplano($(this).find(".estadoselect").val(),$(this).find(".cidadeselect option:selected").text(),$(this).find(".cidadeselect").val());}})
$("#cpf").inputmask("999.999.999-99");$("#cnpj").inputmask("99.999.999/9999-99");$("#cepgeral").inputmask("99999-999");$("#fone_dddgeral").inputmask("99");$("#fonegeral").inputmask({mask:["9999-9999","99999-9999"]});$("#celular_dddgeral").inputmask("99");$("#celulargeral").inputmask("99999-9999");$("#cepbusca").inputmask("99999-999");$(window).scroll(function(){if($(this).scrollTop()>50){$('#back-to-top').fadeIn();}else{$('#back-to-top').fadeOut();}});$('#back-to-top').click(function(){$('#back-to-top').tooltip('hide');$('body,html').animate({scrollTop:0},800);return false;});$('#back-to-top').tooltip('show');var estadoselecionado=getCookie("estadoselecionado");var cidadeselecionada=getCookie("cidadeselecionada");var ibgeselecionado=getCookie("ibgeselecionado");if(estadoselecionado==""){if(window.navigator.geolocation){navigator.geolocation.getCurrentPosition(showPosition,showError);}else{$("#planos #selectplanos").css("display","block");}}else{showplano(estadoselecionado,cidadeselecionada,ibgeselecionado);}
function showPosition(position){var lat=position.coords.latitude,lng=position.coords.longitude,latlng=new google.maps.LatLng(lat,lng),geocoder=new google.maps.Geocoder();geocoder.geocode({'latLng':latlng},function(results,status){if(status==google.maps.GeocoderStatus.OK){if(results[1]){for(var i=0;i<results.length;i++){if(results[i].types[0]==="locality"){var city=results[i].address_components[0].short_name;var state=results[i].address_components[2].short_name;setCookie("estadoselecionado",state)
setCookie("cidadeselecionada",city)
console.log(city+", "+state);showplano(state,city);}}}
else{$("#planos #selectplanos").css("display","block");}}
else{$("#planos #selectplanos").css("display","block");}});}
function showError(error){$("#planos #selectplanos").css("display","block");}
$(".tab-text .vermais").on("click",function(){$(".tab-text .vermais").remove();$(".more").css("display","block");})
$(".tab-footer .bt-expand").on("click",function(){if($(this).hasClass("closed")){$(this).removeClass("closed");$(this).addClass("open");$(this).find("span").removeClass("glyphicon-menu-down");$(this).find("span").addClass("glyphicon-menu-up");$(this).prev().slideDown("slow");}else{$(this).removeClass("open");$(this).addClass("closed");$(this).find("span").removeClass("glyphicon-menu-up");$(this).find("span").addClass("glyphicon-menu-down");$(this).prev().slideUp("slow");}})
function showplano(estado,cidade,ibge){$("#barratopo").css("display","block");$("#planos").css("display","block");$("#planos #selectplanos").css("display","none");$("#planos .nav").css("display","block");$(".al-ce-pb-pe-rn-se").css("display","none");$(".ba-pa-pi").css("display","none");$(".df-es-go-ma-mt-mg-ms-pr-rj-rs-sc-sp").css("display","none");$("#barratopo p span.estado").text(cidade+" - "+estado);if(estado=="AL"||estado=="CE"||estado=="PB"||estado=="PE"||estado=="RN"||estado=="SE"){console.log("passou1: "+estado);$(".al-ce-pb-pe-rn-se").css("display","block");}else if(estado=="BA"||estado=="PA"||estado=="PI"){console.log("passou2: "+estado);$(".ba-pa-pi").css("display","block");}else if(estado=="DF"||estado=="ES"||estado=="GO"||estado=="MA"||estado=="MT"||estado=="MG"||estado=="MS"||estado=="PR"||estado=="RJ"||estado=="RS"||estado=="SC"||estado=="SP"){console.log("passou3: "+estado);$(".df-es-go-ma-mt-mg-ms-pr-rj-rs-sc-sp").css("display","block");}else{$("#planos").css("display","none");}
$.ajax({url:"inc_consultacidade.php",method:"POST",data:{estado:estado,cidade:cidade,ibge:ibge},cache:false,success:function(html){console.log("sucesso");console.log(html);if(html=="error"){$(".adesao1").text("Valor da adesão: consultar através do 81 982618870");$(".adesao2").text("(consultar através do 81 982618870)");}else{$(".adesao1").text("Valor da adesão: R$ "+html+",00 no Cartão de Crédito ou Boleto Bancário");$(".adesao2").text("(R$ "+html+",00 no cartão de crédito ou boleto bancário)");}}})}
$("a.btn.quero").click(function(event){event.preventDefault();var plano=$(this).data("plano");var download=$(this).data("download");var upload=$(this).data("upload");var principal=$(this).data("principal");var extra=$(this).data("extra");var total=$(this).data("total");$(".download").text(download);$(".upload").text(upload);$(".principal").text(principal);$(".extra").text(extra);$(".total").text(total);console.log(plano);if(plano=="res10noite"){$("#obs").val("Residencial 10 mega - noite");$(".nome").text("Noite 10 Mega");}else if(plano=="res15noite"){$("#obs").val("Residencial 15 mega - noite");$(".nome").text("Noite 15 Mega");}else if(plano=="res20noite"){$("#obs").val("Residencial 20 mega - noite");$(".nome").text("Noite 20 Mega");}else if(plano=="res15dia"){$("#obs").val("Residencial 15 mega - dia");$(".nome").text("Dia 15 Mega");}else if(plano=="res20dia"){$("#obs").val("Residencial 20 mega - dia");$(".nome").text("Dia 20 Mega");}else if(plano=="res25dia"){$("#obs").val("Residencial 25 mega - dia");$(".nome").text("Dia 25 Mega");}else if(plano=="com15"){$("#obs").val("Comercial 15 mega");$(".nome").text("Empresa 15 Mega");}else if(plano=="com20"){$("#obs").val("Comercial 20 mega");$(".nome").text("Empresa 20 Mega");}else if(plano=="com25"){$("#obs").val("Comercial 25 mega");$(".nome").text("Empresa 25 Mega");}
$('#step2').fadeOut("slow");$('#step3').fadeIn("slow");$('#steps .st2 .numero').removeClass("active");$('#steps .st2 .texto').removeClass("active");$('#steps .st3 .numero').addClass("active");$('#steps .st3 .texto').addClass("active");});$('#myModal').on('hidden.bs.modal',function(){$(this).find('iframe').html("");$(this).find('iframe').attr("src","");});$("input[name='tipo']").on("change",function(){var radioValue=$("input[name='tipo']:checked").val();if(radioValue=="F"){$("#cpf").css("display","block");$("#cnpj").css("display","none");$("#cnpj").val("");$("#cpf").prop('required',true);$("#cnpj").prop('required',null);$("#cpf").inputmask("999.999.999-99");}else if(radioValue=="J"){$("#cpf").css("display","none");$("#cnpj").css("display","block");$("#cpf").val("");$("#cpf").prop('required',null);$("#cnpj").prop('required',true);$("#cnpj").inputmask("99.999.999/9999-99");}});$("#cepform").submit(function(e){e.preventDefault();var cepvalue=$("#cepbusca").val();$.ajax({url:"https://maps.googleapis.com/maps/api/geocode/json",data:{address:cepvalue,key:"AIzaSyAnW3xoEiItei3zmFBLrjftpewQQOzodhY"},cache:false,success:function(html){console.log(html);if(html.status=="OK"){var filtered_array=html.results[0].address_components.filter(function(address_component){return address_component.types.includes("administrative_area_level_1");});var estado=filtered_array.length?filtered_array[0].short_name:"";console.log(estado);var filtered_array2=html.results[0].address_components.filter(function(address_component){return address_component.types.includes("administrative_area_level_2");});var cidade=filtered_array2.length?filtered_array2[0].short_name:"";console.log(cidade);$("#barratopo p span.estado").text(cidade+" - "+estado);$("#barratopo").css("display","block");showplano(estado,cidade);setCookie("estadoselecionado",estado);setCookie("cidadeselecionada",cidade);$("#cepbox").html('<h2>Seu endereço possui cobertura GigaNet!</h2><a href="'+path+'/assinar" class="bt">Compre Agora</a>');$('#step1').fadeOut("slow");$('#step2').fadeIn("slow");$('#steps .st1 .numero').removeClass("active");$('#steps .st1 .texto').removeClass("active");$('#steps .st2 .numero').addClass("active");$('#steps .st2 .texto').addClass("active");}if(html.status=="ZERO_RESULTS"){$("#modalsemcobertura").modal();$("#cepbox").html('<h2>Para saber sobre a cobertura na sua cidade entre em contato através do </h2><p>81 982618870</p>');}}});});function buscacepgoogle(cep){var cepvalue=cep;$.ajax({url:"https://maps.googleapis.com/maps/api/geocode/json",data:{address:cepvalue,key:"AIzaSyAnW3xoEiItei3zmFBLrjftpewQQOzodhY"},cache:false,success:function(html){console.log(html);if(html.status=="OK"){var filtered_array=html.results[0].address_components.filter(function(address_component){return address_component.types.includes("administrative_area_level_1");});var estado=filtered_array.length?filtered_array[0].short_name:"";console.log(estado);var estadonome=filtered_array.length?filtered_array[0].long_name:"";$("#barratopo p span.estado").text(estadonome);$("#barratopo").css("display","block");showplano(estado);setCookie("estadoselecionado",estado)}if(html.status=="ZERO_RESULTS"){$("#modalsemcobertura").modal();}}});}
$("#register").submit(function(e){e.preventDefault();$('#obs').prop('disabled',false);var postData=$(this).serializeArray();console.log("postData1: ");console.log(postData);registerLead(postData);})
function registerLead(postdata){$(".loading").css("display","block");$('button.bt').prop('disabled',true);var postData=postdata;console.log("postData: ");console.log(postData);$.ajax({url:"ajaxsige.php",type:"POST",data:postData,cache:false,success:function(html){$(".loading").css("display","none");$('button.bt').prop('disabled',false);console.log(html);if(html=="sucesso"){dataLayer.push({'event':'formSend'});console.log("passou sucesso");$("#register").css("display","none");$(".sucesso").css("display","block");$(".cadastrado").css("display","none");$(".erro").css("display","none");}else{console.log("passou erro");$(".loading").css("display","none");$(".sucesso").css("display","none");$(".cadastrado").css("display","none");$(".erro").css("display","block");}}});}
window.Parsley.addValidator('validcpf',function(value,requirement){var cpf=value.replace(/[^0-9]/g,''),compareCPF=cpf.substring(0,9),add=0,i,u,invalidCPF=['00000000000','11111111111','22222222222','33333333333','44444444444','55555555555','66666666666','77777777777','88888888888','99999999999'];if(cpf.length<11||$.inArray(cpf,invalidCPF)!==-1){return false;}
for(i=8,u=2;i>=0;i--,u++){add=add+parseInt(cpf.substring(i,i+1))*u;}
compareCPF=compareCPF+((add%11)<2?0:11-(add%11));add=0
for(i=9,u=2;i>=0;i--,u++){add=add+parseInt(cpf.substring(i,i+1))*u;}
compareCPF=compareCPF+((add%11)<2?0:11-(add%11));if(compareCPF!==cpf){return false;}
return true;},32).addMessage('pt-br','validcpf','Este campo deve ser um CPF válido.');window.Parsley.addValidator('validcnpj',function(value,requirement){var cnpj=value.replace(/[^0-9]/g,''),len=cnpj.length-2,numbers=cnpj.substring(0,len),digits=cnpj.substring(len),add=0,pos=len-7,invalidCNPJ=['00000000000000','11111111111111','22222222222222','33333333333333','44444444444444','55555555555555','66666666666666','77777777777777','88888888888888','99999999999999'],result;if(cnpj.length<11||$.inArray(cnpj,invalidCNPJ)!==-1){return false;}
for(i=len;i>=1;i--){add=add+parseInt(numbers.charAt(len-i))*pos--;if(pos<2){pos=9;}}
result=(add%11)<2?0:11-(add%11);if(result!=digits.charAt(0)){return false;}
len=len+1;numbers=cnpj.substring(0,len);add=0;pos=len-7;for(i=13;i>=1;i--){add=add+parseInt(numbers.charAt(len-i))*pos--;if(pos<2){pos=9;}}
result=(add%11)<2?0:11-(add%11);if(result!=digits.charAt(1)){return false;}
return true;},32).addMessage('pt-br','validcnpj','Este campo deve ser um CNPJ válido.');Parsley.addMessages('pt-br',{defaultMessage:"Este valor parece ser inválido.",type:{email:"Este campo deve ser um email válido.",url:"Este campo deve ser um URL válida.",number:"Apenas números.",integer:"Este campo deve ser um inteiro válido.",digits:"Este campo deve conter apenas dígitos.",alphanum:"Este campo deve ser alfa numérico."},notblank:"Este campo não pode ficar vazio.",required:"Campo obrigatório.",pattern:"Este campo parece estar inválido.",min:"Este campo deve ser maior ou igual a %s.",max:"Este campo deve ser menor ou igual a %s.",range:"Este campo deve estar entre %s e %s.",minlength:"Este campo é pequeno demais. Ele deveria ter %s caracteres ou mais.",maxlength:"Este campo é grande demais. Ele deveria ter %s caracteres ou menos.",length:"O tamanho deste campo é inválido. Ele deveria ter entre %s e %s caracteres.",mincheck:"Você deve escolher pelo menos %s opções.",maxcheck:"Você deve escolher %s opções ou mais",check:"Você deve escolher entre %s e %s opções.",equalto:"Este valor deveria ser igual."});Parsley.setLocale('pt-br');function limpa_formulário_cep(){$("#endereco").val("");$("#bairro").val("");$("#estado option:contains('')").prop("selected",false);$("#cidade option:contains('')").prop("selected",false);}
function enableFields(){$("#cidade").prop('disabled',false);$("#estado").prop('disabled',false);}
function disableFields(){$("#cidade").prop('disabled',true);$("#estado").prop('disabled',true);}
$("#cep").focus(function(){enableFields()})
temhughes=true;$("#cep").blur(function(){var cep=$(this).val().replace(/\D/g,'');if(cep!=""){var validacep=/^[0-9]{8}$/;if(validacep.test(cep)){$.getJSON("//viacep.com.br/ws/"+cep+"/json/?callback=?",function(dados){if(!("erro"in dados)){}
else{enableFields();$("#aviso2").modal("show");limpa_formulário_cep();}});}}else{enableFields();limpa_formulário_cep();}});});